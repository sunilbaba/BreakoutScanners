
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="refresh" content="300">
        <title>PrimeTrade</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://unpkg.com/lucide@latest"></script>
        <style>
            body { background: #0b0e14; color: #e2e8f0; font-family: 'Inter', sans-serif; }
            .card { background: #151921; border: 1px solid #2d3342; border-radius: 12px; padding: 16px; position: relative; overflow: hidden; }
            .card:hover { border-color: #4b5563; transform: translateY(-2px); transition: all 0.2s; }
            
            .prime { border: 1px solid #9333ea; background: linear-gradient(135deg, #151921 60%, #2e1065 100%); }
            .prime::before { content: ""; position: absolute; left:0; top:0; bottom:0; width: 3px; background: #a855f7; }
            
            .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: 600; margin-right: 4px; display: inline-block; margin-bottom: 4px; }
            .badge-sec { background: #172554; color: #60a5fa; border: 1px solid #1e40af; }
            .badge-mom { background: #064e3b; color: #34d399; border: 1px solid #059669; }
            .badge-gap { background: #450a0a; color: #fca5a5; border: 1px solid #b91c1c; }
        </style>
    </head>
    <body class="p-4 lg:p-8">
        <div class="max-w-7xl mx-auto">
            
            <!-- Header -->
            <div class="flex flex-col md:flex-row justify-between items-center mb-8 border-b border-slate-800 pb-6">
                <div>
                    <h1 class="text-2xl md:text-3xl font-bold text-white tracking-tight flex items-center gap-2">
                        <i data-lucide="scan-search" class="text-purple-500"></i> PrimeTrade
                    </h1>
                    <div class="text-xs text-slate-500 mt-1 font-mono">2025-11-24 19:40:56 UTC • Auto-Refresh 5m</div>
                </div>
                <div class="mt-4 md:mt-0 flex gap-4">
                    <div class="text-center px-4">
                        <div class="text-[10px] text-slate-500 uppercase tracking-widest">Advances</div>
                        <div class="text-xl font-bold text-green-500">0</div>
                    </div>
                    <div class="w-px bg-slate-800"></div>
                    <div class="text-center px-4">
                        <div class="text-[10px] text-slate-500 uppercase tracking-widest">Declines</div>
                        <div class="text-xl font-bold text-red-500">0</div>
                    </div>
                </div>
            </div>

            <!-- Sectors -->
            <div id="sector-row" class="grid grid-cols-3 sm:grid-cols-5 lg:grid-cols-9 gap-2 mb-8"></div>

            <!-- Filter Tabs -->
            <div class="flex gap-2 mb-6 p-1 bg-slate-900/50 rounded-lg inline-flex">
                <button onclick="filter('ALL')" id="btn-ALL" class="px-5 py-2 rounded-md text-xs font-bold transition-all bg-slate-700 text-white">Market</button>
                <button onclick="filter('PRIME')" id="btn-PRIME" class="px-5 py-2 rounded-md text-xs font-bold transition-all text-slate-400 hover:text-white">Prime ⭐</button>
                <button onclick="filter('BUY')" id="btn-BUY" class="px-5 py-2 rounded-md text-xs font-bold transition-all text-slate-400 hover:text-white">Buys</button>
            </div>

            <!-- Grid -->
            <div id="grid-root" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"></div>
        </div>

        <script>
            const DATA = {"stocks": [], "sectors": [{"name": "BANK", "avg": -0.05}, {"name": "AUTO", "avg": -0.35}, {"name": "IT", "avg": 0.41}, {"name": "METAL", "avg": -1.23}, {"name": "PHARMA", "avg": -0.39}, {"name": "FMCG", "avg": -0.66}, {"name": "ENERGY", "avg": -1.18}, {"name": "REALTY", "avg": -2.05}, {"name": "PSU BANK", "avg": -0.15}], "market": {"adv": 0, "dec": 0}};
            let activeFilter = 'ALL';

            function init() {
                const sRoot = document.getElementById('sector-row');
                sRoot.innerHTML = DATA.sectors.map(s => {
                    const color = s.avg >= 0 ? 'text-green-400' : 'text-red-400';
                    const bg = s.avg >= 0 ? 'bg-green-500/5 border-green-500/20' : 'bg-red-500/5 border-red-500/20';
                    return `<div class="p-2 rounded border ${bg} text-center transition hover:bg-slate-800">
                        <div class="text-[9px] text-slate-400 font-bold uppercase tracking-wider">${s.name}</div>
                        <div class="text-sm font-bold ${color} mt-0.5">${s.avg}%</div>
                    </div>`;
                }).join('');
                renderGrid();
                lucide.createIcons();
            }

            function filter(type) {
                activeFilter = type;
                ['ALL','PRIME','BUY'].forEach(t => {
                    const btn = document.getElementById('btn-'+t);
                    if(t===type) btn.className = "px-5 py-2 rounded-md text-xs font-bold transition-all bg-purple-600 text-white shadow-lg shadow-purple-900/50";
                    else btn.className = "px-5 py-2 rounded-md text-xs font-bold transition-all text-slate-400 hover:text-white hover:bg-slate-800";
                });
                renderGrid();
            }

            function renderGrid() {
                const root = document.getElementById('grid-root');
                const filtered = DATA.stocks.filter(s => {
                    if(activeFilter === 'PRIME') return s.verdict.includes('PRIME');
                    if(activeFilter === 'BUY') return s.verdict.includes('BUY');
                    return true;
                });

                if(filtered.length === 0) { root.innerHTML = '<div class="col-span-full text-center py-20 text-slate-600">No stocks matching criteria found.</div>'; return; }

                root.innerHTML = filtered.map(s => {
                    const isPrime = s.verdict.includes('PRIME');
                    const hist = s.history;
                    const min = Math.min(...hist); const max = Math.max(...hist);
                    const pts = hist.map((p, i) => `${(i/(hist.length-1))*100},${40-((p-min)/(max-min||1))*40}`).join(' ');
                    const stroke = s.change >= 0 ? '#22c55e' : '#ef4444';
                    
                    const badges = s.setups.map(b => {
                        let cls = 'bg-slate-800 text-slate-400 border border-slate-700';
                        if(b.includes('Sector')) cls = 'badge-sec';
                        if(b.includes('Momentum')) cls = 'badge-mom';
                        if(b.includes('GAP')) cls = 'badge-gap';
                        return `<span class="badge ${cls}">${b}</span>`;
                    }).join('');

                    let vColor = 'text-slate-500';
                    if(s.v_color === 'green') vColor = 'text-green-400';
                    if(s.v_color === 'purple') vColor = 'text-purple-400';
                    if(s.v_color === 'orange') vColor = 'text-orange-400';

                    return `
                    <div class="card ${isPrime ? 'prime' : ''} group cursor-default">
                        <div class="flex justify-between items-start mb-3">
                            <div>
                                <div class="font-bold text-lg text-white tracking-tight">${s.symbol}</div>
                                <div class="text-[10px] text-slate-400 uppercase font-bold">${s.sector}</div>
                            </div>
                            <div class="text-right">
                                <div class="text-xl font-mono font-bold ${s.change>=0?'text-green-400':'text-red-400'}">${s.change}%</div>
                                <div class="text-[10px] text-slate-500">₹${s.price}</div>
                            </div>
                        </div>
                        
                        <div class="mb-4 min-h-[24px] flex flex-wrap content-start">${badges}</div>
                        
                        <div class="flex justify-between items-end border-t border-slate-800 pt-3 mt-2">
                             <div>
                                <div class="text-[9px] text-slate-500 uppercase font-bold">Verdict</div>
                                <div class="text-xs font-bold ${vColor}">${s.verdict.replace('⭐','')}</div>
                             </div>
                             <div class="text-right">
                                <div class="text-[9px] text-slate-500 uppercase font-bold">R:R</div>
                                <div class="text-xs font-bold text-slate-300">${s.rr}</div>
                             </div>
                        </div>

                        <div class="absolute bottom-0 left-0 right-0 h-12 opacity-20 group-hover:opacity-40 transition pointer-events-none">
                            <svg width="100%" height="100%" preserveAspectRatio="none"><polyline points="${pts}" fill="none" stroke="${stroke}" stroke-width="2" vector-effect="non-scaling-stroke" /></svg>
                        </div>
                    </div>`;
                }).join('');
                lucide.createIcons();
            }
            init();
        </script>
    </body>
    </html>
    