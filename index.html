
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="refresh" content="300">
        <title>PrimeTrade Scanner</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://unpkg.com/lucide@latest"></script>
        <style>
            body { background: #0f172a; color: #e2e8f0; font-family: sans-serif; }
            .card { background: #1e293b; border: 1px solid #334155; border-radius: 12px; padding: 16px; position: relative; overflow: hidden; }
            .card:hover { border-color: #64748b; transform: translateY(-2px); transition: all 0.2s; }
            
            /* Special styling for PRIME picks */
            .prime { border: 1px solid #a855f7; background: linear-gradient(to bottom right, #1e293b, #3b0764); }
            .prime::after { content: "⭐ PRIME"; position: absolute; top: 0; right: 0; background: #a855f7; color: white; font-size: 10px; padding: 2px 6px; border-bottom-left-radius: 8px; font-weight: bold; }
            
            .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: bold; margin-right: 4px; display: inline-block; margin-bottom: 4px; }
            .badge-std { background: #334155; color: #94a3b8; }
            .badge-sec { background: #1e3a8a; color: #93c5fd; border: 1px solid #3b82f6; }
            .badge-mom { background: #064e3b; color: #6ee7b7; border: 1px solid #10b981; }
            .badge-gap { background: #450a0a; color: #fca5a5; border: 1px solid #ef4444; }
        </style>
    </head>
    <body class="p-4 md:p-8">
        <div class="max-w-7xl mx-auto">
            <!-- Header -->
            <div class="flex flex-col md:flex-row justify-between items-start md:items-end mb-6 border-b border-slate-800 pb-4">
                <div>
                    <h1 class="text-3xl font-bold text-white flex items-center gap-2">
                        <i data-lucide="radar" class="text-blue-500"></i> PrimeTrade Scanner
                    </h1>
                    <div class="text-sm text-slate-500 mt-1">Updated: 2025-11-24 19:30:03 UTC (IST) • Auto-Refresh: 5m</div>
                </div>
                <div class="mt-4 md:mt-0 flex items-center gap-3 bg-slate-800 px-4 py-2 rounded border border-slate-700">
                    <span class="text-green-400 font-bold">ADV 0</span> <span class="text-slate-600">|</span> <span class="text-red-400 font-bold">DEC 0</span>
                </div>
            </div>

            <!-- Sectors -->
            <div id="sector-row" class="grid grid-cols-3 md:grid-cols-6 lg:grid-cols-9 gap-2 mb-8"></div>

            <!-- Filters -->
            <div class="flex gap-2 mb-6">
                <button onclick="filter('ALL')" id="btn-ALL" class="px-4 py-1.5 rounded-full text-xs font-bold bg-blue-600 text-white">All</button>
                <button onclick="filter('PRIME')" id="btn-PRIME" class="px-4 py-1.5 rounded-full text-xs font-bold bg-slate-800 text-slate-400 border border-slate-700">Prime ⭐</button>
                <button onclick="filter('BUY')" id="btn-BUY" class="px-4 py-1.5 rounded-full text-xs font-bold bg-slate-800 text-slate-400 border border-slate-700">Valid Buys</button>
            </div>

            <!-- Grid -->
            <div id="grid-root" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"></div>
        </div>

        <script>
            const DATA = {"stocks": [], "sectors": [{"name": "BANK", "avg": -0.05}, {"name": "AUTO", "avg": -0.35}, {"name": "IT", "avg": 0.41}, {"name": "METAL", "avg": -1.23}, {"name": "PHARMA", "avg": -0.39}, {"name": "FMCG", "avg": -0.66}, {"name": "ENERGY", "avg": -1.18}, {"name": "REALTY", "avg": -2.05}, {"name": "PSU BANK", "avg": -0.15}], "market": {"adv": 0, "dec": 0}};
            let activeFilter = 'ALL';

            function init() {
                // Render Sectors
                const sRoot = document.getElementById('sector-row');
                sRoot.innerHTML = DATA.sectors.map(s => {
                    const color = s.avg >= 0 ? 'text-green-400' : 'text-red-400';
                    const bg = s.avg >= 0 ? 'bg-green-900/10 border-green-900/30' : 'bg-red-900/10 border-red-900/30';
                    return `<div class="px-2 py-2 rounded border ${bg} flex flex-col items-center justify-center">
                        <span class="text-[10px] text-slate-400 font-bold">${s.name}</span>
                        <span class="text-xs font-bold ${color}">${s.avg}%</span>
                    </div>`;
                }).join('');

                renderGrid();
                lucide.createIcons();
            }

            function filter(type) {
                activeFilter = type;
                ['ALL','PRIME','BUY'].forEach(t => {
                    document.getElementById('btn-'+t).className = (t===type) ? 
                        "px-4 py-1.5 rounded-full text-xs font-bold bg-blue-600 text-white" : 
                        "px-4 py-1.5 rounded-full text-xs font-bold bg-slate-800 text-slate-400 border border-slate-700";
                });
                renderGrid();
            }

            function renderGrid() {
                const root = document.getElementById('grid-root');
                const filtered = DATA.stocks.filter(s => {
                    if(activeFilter === 'PRIME') return s.verdict.includes('PRIME');
                    if(activeFilter === 'BUY') return s.verdict.includes('BUY');
                    return true;
                });

                if(filtered.length === 0) { root.innerHTML = '<div class="col-span-full text-center py-20 text-slate-500">No stocks found for this filter.</div>'; return; }

                root.innerHTML = filtered.map(s => {
                    const isPrime = s.verdict.includes('PRIME');
                    
                    // Sparkline
                    const hist = s.history;
                    const min = Math.min(...hist); const max = Math.max(...hist);
                    const pts = hist.map((p, i) => `${(i/(hist.length-1))*100},${40-((p-min)/(max-min||1))*40}`).join(' ');
                    const stroke = s.change >= 0 ? '#4ade80' : '#f87171';

                    // Badges
                    const badges = s.setups.map(b => {
                        let cls = 'badge-std';
                        if(b.includes('Sector')) cls = 'badge-sec';
                        if(b.includes('Momentum')) cls = 'badge-mom';
                        if(b.includes('GAP')) cls = 'badge-gap';
                        return `<span class="badge ${cls}">${b}</span>`;
                    }).join('');

                    // Verdict Color
                    let vColor = 'text-slate-400';
                    if(s.v_color === 'green') vColor = 'text-green-400';
                    if(s.v_color === 'purple') vColor = 'text-purple-300';
                    if(s.v_color === 'orange') vColor = 'text-orange-400';

                    return `
                    <div class="card ${isPrime ? 'prime' : ''} group">
                        <div class="flex justify-between items-start mb-2">
                            <div>
                                <div class="font-bold text-lg text-white group-hover:text-blue-400 transition">${s.symbol}</div>
                                <div class="text-xs text-slate-400">₹${s.price} <span class="${s.change>=0?'text-green-400':'text-red-400'} ml-1">${s.change}%</span></div>
                            </div>
                            <div class="text-right">
                                <div class="font-bold text-xs ${vColor}">${s.verdict.replace('⭐','')}</div>
                                <div class="text-[10px] text-slate-500">R:R <span class="text-white">${s.rr}</span></div>
                            </div>
                        </div>
                        
                        <div class="mb-4 min-h-[20px]">${badges}</div>
                        
                        <div class="grid grid-cols-2 gap-2 text-[10px] font-mono border-t border-slate-700/50 pt-2 mb-2">
                            <div><span class="text-slate-500">STOP</span> <span class="text-red-400">₹${s.levels.SL}</span></div>
                            <div class="text-right"><span class="text-slate-500">TARGET</span> <span class="text-green-400">₹${s.levels.TGT}</span></div>
                        </div>

                        <div class="absolute bottom-0 left-0 right-0 h-10 opacity-30 group-hover:opacity-50 transition">
                            <svg width="100%" height="100%" preserveAspectRatio="none"><polyline points="${pts}" fill="none" stroke="${stroke}" stroke-width="2" /></svg>
                        </div>
                    </div>
                    `;
                }).join('');
                
                lucide.createIcons();
            }
            init();
        </script>
    </body>
    </html>
    