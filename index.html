
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Institutional PrimeTrade</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://unpkg.com/lucide@latest"></script>
        <style>
            body { background: #0f172a; color: #e2e8f0; font-family: sans-serif; }
            .card { background: #1e293b; border: 1px solid #334155; padding: 16px; border-radius: 12px; }
            .prime { border: 1px solid #a855f7; background: linear-gradient(to bottom right, #1e293b, #2e1065); }
            .badge { font-size: 10px; padding: 2px 6px; border-radius: 4px; font-weight: bold; margin-right: 4px; }
            .ledger-table { width: 100%; border-collapse: collapse; font-size: 12px; }
            .ledger-table th { text-align: left; padding: 8px; color: #64748b; border-bottom: 1px solid #334155; }
            .ledger-table td { padding: 8px; border-bottom: 1px solid #1e293b; }
        </style>
    </head>
    <body class="p-4 md:p-8">
        <div class="max-w-7xl mx-auto">
            <div class="flex justify-between items-center mb-6 bg-slate-900 p-4 rounded-xl border border-slate-800">
                <div>
                    <h1 class="text-2xl font-bold text-white flex items-center gap-2">
                        <i data-lucide="building-2" class="text-purple-500"></i> PrimeTrade Institutional
                    </h1>
                    <div class="text-xs text-slate-500 mt-1">2025-11-26 08:52 UTC â€¢ BULL MARKET ðŸŸ¢</div>
                </div>
                <div class="text-right">
                    <div class="text-[10px] text-slate-500 uppercase">Net PnL</div>
                    <div class="text-xl font-bold text-red-400">â‚¹-1799.1200000000001</div>
                    <div class="text-[10px] text-slate-600">Win Rate: 0.0% (3 Trades)</div>
                </div>
            </div>

            <h2 class="text-xs font-bold text-slate-500 mb-3 uppercase">Active Positions</h2>
            <div id="portfolio" class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8"></div>

            <h2 class="text-xs font-bold text-slate-500 mb-3 uppercase">New Opportunities</h2>
            <div id="scanner" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8"></div>
            
            <h2 class="text-xs font-bold text-slate-500 mb-3 uppercase">Trade Ledger (History)</h2>
            <div class="bg-slate-900 rounded-lg border border-slate-800 overflow-hidden mb-8">
                <div class="overflow-x-auto">
                    <table class="ledger-table">
                        <thead><tr><th>Date</th><th>Symbol</th><th>Entry</th><th>Exit</th><th>Qty</th><th>PnL</th><th>Status</th></tr></thead>
                        <tbody id="ledger-body"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <script>
            const DATA = {"stocks": [{"symbol": "LT", "price": 4055.5, "change": 1.47, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 6, "adx": 0.0, "investment": 24333.0, "levels": {"TGT": 4226.58, "SL": 3998.47}, "history": [3828.699951171875, 3861.800048828125, 3839.39990234375, 3872.699951171875, 3888.199951171875, 3918.699951171875, 3904.89990234375, 3923.800048828125, 3972.800048828125, 3958.10009765625, 3987.5, 4030.89990234375, 3980.5, 3924.39990234375, 3924.39990234375, 3881.60009765625, 3882.5, 3918.5, 3955.0, 3954.60009765625, 4002.5, 4004.39990234375, 4027.699951171875, 3999.60009765625, 4019.60009765625, 4037.39990234375, 4024.89990234375, 4013.300048828125, 3996.699951171875, 4055.5]}, {"symbol": "TRENT", "price": 4310.1, "change": 1.56, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 5, "adx": 0.0, "investment": 21551.0, "levels": {"TGT": 4569.24, "SL": 4223.72}, "history": [4724.2001953125, 4793.39990234375, 4814.39990234375, 4802.2998046875, 4791.10009765625, 4783.2998046875, 4789.60009765625, 4798.7001953125, 4725.39990234375, 4780.60009765625, 4744.5, 4694.2998046875, 4713.39990234375, 4660.60009765625, 4660.60009765625, 4679.2001953125, 4627.2998046875, 4283.7001953125, 4315.7998046875, 4375.7998046875, 4326.39990234375, 4391.2001953125, 4404.60009765625, 4374.0, 4358.89990234375, 4388.89990234375, 4359.10009765625, 4310.89990234375, 4243.89990234375, 4310.10009765625]}, {"symbol": "DLF", "price": 730.4, "change": 1.26, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 34, "adx": 0.0, "investment": 24834.0, "levels": {"TGT": 771.12, "SL": 716.83}, "history": [756.2999877929688, 769.7000122070312, 767.9500122070312, 773.9500122070312, 771.75, 774.2999877929688, 772.4500122070312, 779.5, 774.0499877929688, 778.7000122070312, 776.5499877929688, 756.25, 777.2000122070312, 774.5999755859375, 774.5999755859375, 758.3499755859375, 759.4500122070312, 760.0, 765.25, 761.2000122070312, 764.7999877929688, 764.8499755859375, 768.5, 750.3499755859375, 743.6500244140625, 741.0999755859375, 725.3499755859375, 717.7000122070312, 721.2999877929688, 730.4000244140625]}, {"symbol": "HAL", "price": 4503.7, "change": 1.4, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 5, "adx": 0.0, "investment": 22519.0, "levels": {"TGT": 4787.48, "SL": 4409.11}, "history": [4845.2001953125, 4861.2998046875, 4878.5, 4860.0, 4858.2001953125, 4810.2001953125, 4814.2001953125, 4756.7998046875, 4724.5, 4695.10009765625, 4650.2001953125, 4679.7998046875, 4694.7001953125, 4685.7998046875, 4685.7998046875, 4593.60009765625, 4626.60009765625, 4789.7998046875, 4862.60009765625, 4748.5, 4751.0, 4729.7998046875, 4795.2001953125, 4807.89990234375, 4744.2001953125, 4716.60009765625, 4595.0, 4445.10009765625, 4441.60009765625, 4503.7001953125]}, {"symbol": "TCS", "price": 3167.3, "change": 1.54, "sector": "IT", "setups": ["Sector Support"], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 7, "adx": 0.0, "investment": 22171.0, "levels": {"TGT": 3300.24, "SL": 3122.99}, "history": [2969.800048828125, 2970.699951171875, 2962.199951171875, 3015.199951171875, 3006.699951171875, 3073.199951171875, 3063.199951171875, 3084.89990234375, 3057.89990234375, 3057.60009765625, 3035.300048828125, 3058.0, 3016.800048828125, 2990.199951171875, 2990.199951171875, 3010.89990234375, 2991.800048828125, 3025.199951171875, 3047.0, 3131.800048828125, 3105.699951171875, 3106.0, 3102.199951171875, 3087.10009765625, 3147.699951171875, 3144.800048828125, 3150.60009765625, 3141.199951171875, 3119.199951171875, 3167.300048828125]}, {"symbol": "BHARTIARTL", "price": 2128.0, "change": -1.55, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 11, "adx": 0.0, "investment": 23408.0, "levels": {"TGT": 2234.44, "SL": 2092.52}, "history": [1968.5, 1967.4000244140625, 2012.0, 2051.5, 2043.5, 2007.9000244140625, 2029.300048828125, 2080.10009765625, 2090.199951171875, 2100.60009765625, 2066.300048828125, 2054.5, 2074.0, 2113.300048828125, 2113.300048828125, 2094.89990234375, 2001.199951171875, 2019.800048828125, 2042.300048828125, 2073.800048828125, 2091.800048828125, 2100.699951171875, 2112.199951171875, 2149.199951171875, 2159.800048828125, 2158.300048828125, 2162.699951171875, 2152.10009765625, 2161.60009765625, 2128.0]}, {"symbol": "AXISBANK", "price": 1288.8, "change": 1.78, "sector": "BANK", "setups": ["Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 19, "adx": 0.0, "investment": 24487.0, "levels": {"TGT": 1347.11, "SL": 1269.36}, "history": [1169.5999755859375, 1196.300048828125, 1200.199951171875, 1226.0, 1237.300048828125, 1258.800048828125, 1241.9000244140625, 1254.0999755859375, 1246.300048828125, 1248.800048828125, 1238.5999755859375, 1232.800048828125, 1233.699951171875, 1226.5999755859375, 1226.5999755859375, 1228.5, 1222.800048828125, 1217.0, 1222.5, 1221.5999755859375, 1225.199951171875, 1241.5999755859375, 1249.5999755859375, 1265.4000244140625, 1270.4000244140625, 1285.199951171875, 1275.800048828125, 1269.0, 1266.300048828125, 1288.800048828125]}, {"symbol": "JIOFIN", "price": 307.45, "change": 2.21, "sector": "Other", "setups": ["Pullback"], "verdict": "BUY", "v_color": "green", "rr": 3.0, "qty": 81, "adx": 0.0, "investment": 24903.0, "levels": {"TGT": 323.75, "SL": 302.02}, "history": [305.6000061035156, 312.6499938964844, 312.1000061035156, 309.29998779296875, 310.70001220703125, 311.79998779296875, 309.04998779296875, 305.95001220703125, 305.54998779296875, 307.95001220703125, 309.75, 309.79998779296875, 306.79998779296875, 306.79998779296875, 301.8999938964844, 298.1000061035156, 299.29998779296875, 301.95001220703125, 304.8999938964844, 309.5, 310.70001220703125, 314.8999938964844, 312.0, 305.95001220703125, 304.45001220703125, 308.3500061035156, 303.54998779296875, 299.8500061035156, 300.79998779296875, 307.45001220703125]}, {"symbol": "HDFCBANK", "price": 1004.55, "change": 1.49, "sector": "BANK", "setups": ["Pullback", "Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 24, "adx": 0.0, "investment": 24109.0, "levels": {"TGT": 1048.24, "SL": 989.99}, "history": [978.25, 994.3499755859375, 1002.5499877929688, 1002.9500122070312, 1007.7000122070312, 1008.7999877929688, 994.75, 1002.9500122070312, 1003.5499877929688, 1007.8499755859375, 998.1500244140625, 987.2999877929688, 992.6500244140625, 985.25, 985.25, 984.6500244140625, 982.2999877929688, 984.5, 991.7000122070312, 989.5, 986.6500244140625, 989.5999755859375, 996.5499877929688, 992.4500122070312, 994.5999755859375, 1008.8499755859375, 998.0499877929688, 999.1500244140625, 989.7999877929688, 1004.5499877929688]}, {"symbol": "KOTAKBANK", "price": 2096.7, "change": 1.29, "sector": "BANK", "setups": ["Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 11, "adx": 0.0, "investment": 23064.0, "levels": {"TGT": 2186.21, "SL": 2066.86}, "history": [2149.60009765625, 2205.39990234375, 2205.800048828125, 2213.800048828125, 2197.0, 2225.60009765625, 2187.0, 2148.60009765625, 2160.800048828125, 2150.5, 2137.199951171875, 2102.199951171875, 2113.5, 2096.60009765625, 2096.60009765625, 2083.199951171875, 2088.300048828125, 2092.699951171875, 2086.89990234375, 2084.5, 2075.199951171875, 2079.699951171875, 2102.89990234375, 2093.10009765625, 2105.89990234375, 2098.699951171875, 2087.800048828125, 2087.300048828125, 2069.89990234375, 2096.699951171875]}, {"symbol": "RELIANCE", "price": 1567.0, "change": 1.77, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 15, "adx": 0.0, "investment": 23505.0, "levels": {"TGT": 1630.94, "SL": 1545.69}, "history": [1374.300048828125, 1398.300048828125, 1416.800048828125, 1466.800048828125, 1465.199951171875, 1448.4000244140625, 1451.5999755859375, 1484.0999755859375, 1486.9000244140625, 1504.199951171875, 1488.5, 1486.4000244140625, 1484.699951171875, 1473.0999755859375, 1473.0999755859375, 1496.0999755859375, 1478.0, 1489.300048828125, 1493.4000244140625, 1511.5, 1510.9000244140625, 1518.9000244140625, 1518.300048828125, 1519.4000244140625, 1518.9000244140625, 1549.0999755859375, 1546.5999755859375, 1535.9000244140625, 1539.699951171875, 1567.0]}, {"symbol": "BPCL", "price": 366.9, "change": 3.11, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 68, "adx": 0.0, "investment": 24949.0, "levels": {"TGT": 390.66, "SL": 358.98}, "history": [331.01251220703125, 329.05328369140625, 329.0043029785156, 330.8166198730469, 332.1390686035156, 324.5470275878906, 323.7143859863281, 336.0085754394531, 333.7064514160156, 341.0046081542969, 350.31097412109375, 349.52728271484375, 359.813232421875, 365.3481140136719, 365.3481140136719, 360.45001220703125, 367.1499938964844, 365.1499938964844, 374.1499938964844, 375.45001220703125, 374.95001220703125, 371.1499938964844, 374.25, 371.8500061035156, 365.6499938964844, 365.04998779296875, 364.54998779296875, 359.6499938964844, 355.8500061035156, 366.8999938964844]}, {"symbol": "BAJFINANCE", "price": 1012.5, "change": 2.67, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 24, "adx": 0.0, "investment": 24300.0, "levels": {"TGT": 1079.9, "SL": 990.03}, "history": [1059.9000244140625, 1065.75, 1070.0999755859375, 1081.0, 1086.5, 1094.1500244140625, 1089.75, 1084.4000244140625, 1072.75, 1062.949951171875, 1052.300048828125, 1042.800048828125, 1043.0999755859375, 1057.0, 1057.0, 1041.9000244140625, 1066.5999755859375, 1085.0, 1005.2000122070312, 1013.2000122070312, 1005.4000244140625, 1018.5, 1026.800048828125, 1013.5999755859375, 1005.5999755859375, 1028.5999755859375, 1004.0999755859375, 994.0, 986.2000122070312, 1012.5]}, {"symbol": "SUNPHARMA", "price": 1802.3, "change": 1.44, "sector": "PHARMA", "setups": ["Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 13, "adx": 0.0, "investment": 23430.0, "levels": {"TGT": 1875.85, "SL": 1777.78}, "history": [1655.0999755859375, 1659.0, 1679.0999755859375, 1688.5999755859375, 1690.5, 1689.9000244140625, 1699.0, 1693.5999755859375, 1687.0, 1715.9000244140625, 1703.4000244140625, 1690.699951171875, 1706.4000244140625, 1690.0, 1690.0, 1685.9000244140625, 1691.4000244140625, 1697.800048828125, 1716.0999755859375, 1732.0999755859375, 1737.4000244140625, 1757.0999755859375, 1763.9000244140625, 1758.800048828125, 1784.0999755859375, 1777.4000244140625, 1779.699951171875, 1780.800048828125, 1776.800048828125, 1802.300048828125]}, {"symbol": "WIPRO", "price": 249.95, "change": 1.75, "sector": "IT", "setups": ["Sector Support"], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 100, "adx": 0.0, "investment": 24995.0, "levels": {"TGT": 261.51, "SL": 246.1}, "history": [250.2100067138672, 253.80999755859375, 240.89999389648438, 241.24000549316406, 241.36000061035156, 244.3000030517578, 242.97999572753906, 243.91000366210938, 242.3800048828125, 242.27999877929688, 241.9199981689453, 240.6699981689453, 240.5, 237.9199981689453, 237.9199981689453, 240.0500030517578, 236.49000549316406, 239.83999633789062, 241.69000244140625, 245.22000122070312, 245.3300018310547, 244.3699951171875, 244.0500030517578, 240.89999389648438, 246.07000732421875, 246.25999450683594, 244.49000549316406, 247.27000427246094, 245.63999938964844, 249.9499969482422]}, {"symbol": "ONGC", "price": 247.0, "change": 0.67, "sector": "Other", "setups": ["Pullback"], "verdict": "BUY", "v_color": "green", "rr": 3.0, "qty": 101, "adx": 0.0, "investment": 24947.0, "levels": {"TGT": 258.76, "SL": 243.08}, "history": [241.79486083984375, 242.40980529785156, 241.7655792236328, 242.79046630859375, 242.18528747558594, 246.2750701904297, 248.8616943359375, 247.2121124267578, 244.5474090576172, 249.52542114257812, 248.4419708251953, 249.2618865966797, 251.3897247314453, 246.31411743164062, 246.31411743164062, 245.4844512939453, 246.16770935058594, 245.3868408203125, 243.4834747314453, 247.7782440185547, 244.85000610351562, 247.60000610351562, 248.0500030517578, 246.9499969482422, 249.0, 248.0500030517578, 246.9499969482422, 245.75, 245.35000610351562, 247.0]}, {"symbol": "HCLTECH", "price": 1621.8, "change": 1.29, "sector": "IT", "setups": ["Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 15, "adx": 0.0, "investment": 24327.0, "levels": {"TGT": 1710.85, "SL": 1592.12}, "history": [1483.852783203125, 1503.0, 1486.199951171875, 1495.4000244140625, 1486.0, 1523.9000244140625, 1523.800048828125, 1533.5, 1522.0999755859375, 1557.300048828125, 1549.800048828125, 1541.5, 1543.5, 1529.0999755859375, 1529.0999755859375, 1526.4000244140625, 1512.4000244140625, 1540.5, 1570.0, 1594.0, 1598.5, 1594.5999755859375, 1606.4000244140625, 1595.199951171875, 1662.5999755859375, 1645.4000244140625, 1608.0, 1610.4000244140625, 1601.0999755859375, 1621.800048828125]}, {"symbol": "MARUTI", "price": 16171.0, "change": 1.77, "sector": "AUTO", "setups": ["Sector Support"], "verdict": "PRIME BUY \u2b50", "v_color": "purple", "rr": 3.0, "qty": 1, "adx": 0.0, "investment": 16171.0, "levels": {"TGT": 16916.08, "SL": 15922.64}, "history": [16212.0, 16298.0, 16401.0, 16424.0, 16396.0, 16393.0, 16274.0, 16388.0, 16311.0, 16138.0, 16206.0, 16186.0, 15651.0, 15374.0, 15374.0, 15452.0, 15479.0, 15583.0, 15645.0, 15696.0, 15749.0, 15684.0, 15878.0, 15930.0, 15768.0, 15801.0, 15977.0, 15958.0, 15889.0, 16171.0]}, {"symbol": "COALINDIA", "price": 377.0, "change": 1.88, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 66, "adx": 0.0, "investment": 24882.0, "levels": {"TGT": 392.28, "SL": 371.91}, "history": [374.1134338378906, 377.37506103515625, 378.54339599609375, 380.2959289550781, 380.7827453613281, 382.2918395996094, 383.6549072265625, 386.2350158691406, 381.0748291015625, 371.92279052734375, 377.4724426269531, 378.3973693847656, 378.29998779296875, 377.54998779296875, 377.54998779296875, 373.1499938964844, 376.0, 381.3500061035156, 382.79998779296875, 386.5, 383.20001220703125, 386.95001220703125, 387.8500061035156, 383.95001220703125, 379.04998779296875, 379.6499938964844, 378.20001220703125, 372.54998779296875, 370.04998779296875, 377.0]}, {"symbol": "ULTRACEMCO", "price": 11715.0, "change": 1.17, "sector": "Other", "setups": [], "verdict": "WAIT", "v_color": "gray", "rr": 3.0, "qty": 2, "adx": 0.0, "investment": 23430.0, "levels": {"TGT": 12160.93, "SL": 11566.36}, "history": [12311.0, 12358.0, 12370.0, 12346.0, 12342.0, 12145.0, 11918.0, 12015.0, 11931.0, 11999.0, 12053.0, 11947.0, 11950.0, 11819.0, 11819.0, 11910.0, 11849.0, 11728.0, 11825.0, 11921.0, 11934.0, 11874.0, 11778.0, 11707.0, 11666.0, 11753.0, 11729.0, 11584.0, 11580.0, 11715.0]}], "pos": [{"id": "TATASTEEL-2025-11-26", "date": "2025-11-26", "symbol": "TATASTEEL", "entry": 169.67, "qty": 147, "target": 180.28, "stop_loss": 166.13, "status": "OPEN", "pnl": -0.0, "pnl_pct": -0.0, "note": ""}, {"id": "SBIN-2025-11-26", "date": "2025-11-26", "symbol": "SBIN", "entry": 986.95, "qty": 25, "target": 1025.38, "stop_loss": 974.14, "status": "OPEN", "pnl": 0.0, "pnl_pct": 0.0, "note": ""}, {"id": "BEL-2025-11-26", "date": "2025-11-26", "symbol": "BEL", "entry": 415.8, "qty": 60, "target": 441.38, "stop_loss": 407.27, "status": "OPEN", "pnl": -0.0, "pnl_pct": -0.0, "note": ""}, {"id": "INFY-2025-11-26", "date": "2025-11-26", "symbol": "INFY", "entry": 1552.4, "qty": 16, "target": 1638.22, "stop_loss": 1523.79, "status": "OPEN", "pnl": 0.0, "pnl_pct": 0.0, "note": ""}, {"id": "JIOFIN-2025-11-26", "date": "2025-11-26", "symbol": "JIOFIN", "entry": 307.25, "qty": 81, "target": 323.55, "stop_loss": 301.82, "status": "LOSS", "pnl": 0.0, "pnl_pct": 0.0, "note": "SL Gap Down", "exit_price": 301.5, "exit_date": "2025-11-26", "net_pnl": -602.86}, {"id": "HDFCBANK-2025-11-26", "date": "2025-11-26", "symbol": "HDFCBANK", "entry": 1004.6, "qty": 24, "target": 1047.87, "stop_loss": 990.18, "status": "LOSS", "pnl": 0.0, "pnl_pct": 0.0, "note": "SL Gap Down", "exit_price": 981.2999877929688, "exit_date": "2025-11-26", "net_pnl": -691.73}, {"id": "HINDUNILVR-2025-11-26", "date": "2025-11-26", "symbol": "HINDUNILVR", "entry": 2424.0, "qty": 10, "target": 2517.96, "stop_loss": 2392.68, "status": "OPEN", "pnl": 18.0, "pnl_pct": 0.07, "note": ""}, {"id": "AXISBANK-2025-11-26", "date": "2025-11-26", "symbol": "AXISBANK", "entry": 1288.9, "qty": 19, "target": 1347.21, "stop_loss": 1269.46, "status": "LOSS", "pnl": 0.0, "pnl_pct": 0.0, "note": "SL Hit", "exit_price": 1269.46, "exit_date": "2025-11-26", "net_pnl": -504.53}, {"id": "LTIM-2025-11-26", "date": "2025-11-26", "symbol": "LTIM", "entry": 5875.5, "qty": 4, "target": 6227.69, "stop_loss": 5758.1, "status": "OPEN", "pnl": -2.0, "pnl_pct": -0.01, "note": ""}]};
            
            // Portfolio
            const portRoot = document.getElementById('portfolio');
            const openTrades = DATA.pos.filter(t => t.status === 'OPEN');
            if(openTrades.length === 0) portRoot.innerHTML = '<div class="col-span-full text-center text-slate-600 py-4">No active trades.</div>';
            else {
                portRoot.innerHTML = openTrades.map(p => {
                    const pnlClass = p.pnl_pct >= 0 ? 'text-green-400' : 'text-red-400';
                    return `<div class="bg-slate-800 border border-slate-700 rounded-lg p-4 relative">
                        <div class="flex justify-between mb-2"><div class="font-bold text-white">${p.symbol}</div><div class="font-mono font-bold ${pnlClass}">${p.pnl_pct}%</div></div>
                        <div class="text-xs text-slate-400 flex justify-between"><span>Entry: ${p.entry}</span><span>Qty: ${p.qty}</span></div>
                        <div class="text-[10px] text-slate-500 mt-1">Date: ${p.date}</div>
                        <div class="flex justify-between text-[10px] mt-2 font-mono"><span class="text-red-400">${p.stop_loss} SL</span><span class="text-green-400">${p.target} TGT</span></div>
                        ${p.note ? `<div class="absolute top-0 right-0 bg-blue-600 text-[9px] text-white px-2 py-0.5 rounded-bl">${p.note}</div>` : ''}
                    </div>`;
                }).join('');
            }

            // Scanner
            const scanRoot = document.getElementById('scanner');
            if(DATA.stocks.length === 0) scanRoot.innerHTML = '<div class="col-span-full text-center text-slate-600 py-10">No new signals.</div>';
            else {
                scanRoot.innerHTML = DATA.stocks.map(s => {
                    const isPrime = s.verdict.includes('PRIME');
                    const badges = s.setups.map(b => `<span class="badge bg-slate-700 text-slate-300">${b}</span>`).join('');
                    return `<div class="card ${isPrime ? 'prime' : ''}">
                        <div class="flex justify-between mb-2"><div><div class="font-bold text-white">${s.symbol}</div><div class="text-[10px] text-slate-400">${s.sector}</div></div><div class="text-right"><div class="font-bold ${s.change>=0?'text-green-400':'text-red-400'}">${s.change}%</div><div class="text-[10px] text-slate-500">â‚¹${s.price}</div></div></div>
                        <div class="mb-3 h-6 flex flex-wrap">${badges}</div>
                        <div class="flex justify-between text-[10px] bg-slate-900/50 p-2 rounded mb-2"><div class="text-center"><div>Qty</div><div class="text-blue-400 font-bold">${s.qty}</div></div><div class="text-center"><div>ADX</div><div class="text-white font-bold">${s.adx}</div></div><div class="text-center"><div>RR</div><div class="text-white font-bold">${s.rr}</div></div></div>
                        <div class="flex justify-between text-[10px] font-mono mt-1"><span class="text-red-400">SL: ${s.levels.SL}</span><span class="text-green-400">TGT: ${s.levels.TGT}</span></div>
                    </div>`;
                }).join('');
            }
            
            // Ledger
            const ledgerRoot = document.getElementById('ledger-body');
            const closedTrades = DATA.pos.filter(t => t.status !== 'OPEN');
            if(closedTrades.length === 0) ledgerRoot.innerHTML = '<tr><td colspan="7" class="text-center text-slate-600 py-4">No closed trades yet.</td></tr>';
            else {
                ledgerRoot.innerHTML = closedTrades.map(t => {
                    const statusClass = t.status === 'WIN' ? 'text-green-400' : 'text-red-400';
                    return `<tr><td class="text-slate-400">${t.date}</td><td class="font-bold text-white">${t.symbol}</td><td>${t.entry}</td><td>${t.exit_price}</td><td>${t.qty}</td><td class="font-mono font-bold ${statusClass}">â‚¹${t.net_pnl}</td><td><span class="px-2 py-0.5 rounded text-[10px] font-bold bg-opacity-20 ${t.status==='WIN'?'bg-green-500 text-green-400':'bg-red-500 text-red-400'}">${t.status}</span></td></tr>`;
                }).join('');
            }
            lucide.createIcons();
        </script>
    </body>
    </html>
    